<?xml version="1.0"?>

<launch>
	<node
		name="gen_texture" pkg="thinc_sim_gazebo" type="gen_texture"
		args="8 5 1 1 $(find thinc_sim_gazebo)/Media/models/grid.png $(find thinc_sim_gazebo)/worlds/grid.world"
	/>
	<node
		name="gen_dae" pkg="thinc_sim_gazebo" type="gen_dae.py"
		args="5 8 2 2 $(find thinc_sim_gazebo)/Media/models/grid.dae"
	/>

	<!-- Start Gazebo with wg world running in (max) realtime -->
	<include file="$(find thinc_sim_gazebo)/launch/grid.launch"/>

	<!-- Spawn simulated quadrotor uav -->
	<group ns="drone0"> 
		<param name="tf_prefix" value="drone0"/>
		<include file="$(find thinc_sim_gazebo)/launch/spawn_quadrotor.launch" >
			<arg name="model" value="$(find thinc_sim_gazebo)/urdf/quadrotor_sensors0.urdf.xacro"/>
			<arg name="modelname" value="drone0"/>
			<arg name="spawncoords" value="-x 1.00 -y 4.00 -z 0.7 "/>
		</include>
	</group> 

	<group ns="drone1">
		<param name="tf_prefix" value="drone1"/>
		<include file="$(find thinc_sim_gazebo)/launch/spawn_quadrotor.launch" >
			<arg name="model" value="$(find thinc_sim_gazebo)/urdf/quadrotor_sensors1.urdf.xacro"/>
			<arg name="modelname" value="drone1"/>
			<arg name="spawncoords" value="-x -7.00 -y -4.00 -z 0.7 "/>
		</include>
	</group>

	<group ns="drone2">
		<param name="tf_prefix" value="drone2"/>
		<include file="$(find thinc_sim_gazebo)/launch/spawn_quadrotor.launch" >
			<arg name="model" value="$(find thinc_sim_gazebo)/urdf/quadrotor_sensors2.urdf.xacro"/>
			<arg name="modelname" value="drone2"/>
			<arg name="spawncoords" value="-x -7.00 -y 4.00 -z 0.7 "/>
		</include>
	</group>

</launch>
